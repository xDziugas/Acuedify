@model LibraryDetails

@{

}

<div>
	<h4>Folders:</h4>
	@foreach (var folder in Model.Folders)
	{
		<div class="folder mb-4 mt-3">
			<a class="folder-link" data-toggle="collapse" href="#folder_@folder.Id" role="button" aria-expanded="false">
				<div class="folder-button">
					<i class="bi bi-folder" style="float: left; margin-right: 5px;"></i>
					<span style="text-decoration: none;">@folder.Name</span>
				</div>
			</a>
			@if (folder.Quizzes != null)
			{
				<div class="collapse" id="folder_@folder.Id">
					<table class="table table-striped">
						<thead>
							<tr>
								<th width="10%">Title</th>
								<th width="65%">Description</th>
								<th width="25%">Actions</th>
							</tr>
						</thead>
						<tbody>
							@foreach (var quiz in folder.Quizzes)
							{
								if (quiz.FolderId != folder.Id) continue;
								<tr>
									<td>@quiz.Title</td>
									<td>@quiz.Description</td>
									<td>
										<a asp-controller="Playing" asp-action="Index" asp-route-quizId="@quiz.Id" class="btn btn-outline-success btn-sm">
											<svg width="16" height="16" viewBox="0 0 16 16">
												<use xlink:href="Icons/Icons.svg#icon-play"></use>
											</svg>
										</a>
										<a asp-controller="Library" asp-action="Edit" asp-route-id=@quiz.Id class="btn btn-outline-primary btn-sm">
											<svg width="16" height="16" viewBox="0 0 16 16">
												<use xlink:href="Icons/Icons.svg#icon-edit"></use>
											</svg>
										</a>
										<a asp-controller="Library" asp-action="DeleteQuiz" asp-route-id=@quiz.Id class="btn btn-outline-danger btn-sm">
											<svg width="16" height="16" viewBox="0 0 16 16">
												<use xlink:href="Icons/Icons.svg#icon-delete"></use>
											</svg>
										</a>
									</td>
								</tr>
							}
						</tbody>
					</table>
				</div>
			}

		</div>
	}
	<h4 class="mb-4 mt-3">Quizzes:</h4>
	<table class="table table-striped">
		<thead>
			<tr>
				<th width="10%">Title</th>
				<th width="65%">Description</th>
				<th width="25%">Actions</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var quiz in Model.Quizzes)
			{
				if (quiz.FolderId != null) continue;
				<!-- No dupes -->
				<tr>
					<td>@quiz.Title</td>
					<td>@quiz.Description</td>
					<td>
						<a asp-controller="Playing" asp-action="Index" asp-route-quizId=@quiz.Id asp-route-questionId=0 class="btn btn-outline-success btn-sm">
							<svg width="16" height="16" viewBox="0 0 16 16">
								<use xlink:href="Icons/Icons.svg#icon-play"></use>
							</svg>
						</a>
						<a asp-controller="Quizzes" asp-action="Edit" asp-route-id=@quiz.Id class="btn btn-outline-primary btn-sm">
							<svg width="16" height="16" viewBox="0 0 16 16">
								<use xlink:href="Icons/Icons.svg#icon-edit"></use>
							</svg>
						</a>
						<a asp-controller="Library" asp-action="DeleteQuiz" asp-route-id=@quiz.Id class="btn btn-outline-danger btn-sm">
							<svg width="16" height="16" viewBox="0 0 16 16">
								<use xlink:href="Icons/Icons.svg#icon-delete"></use>
							</svg>
						</a>
					</td>
				</tr>
			}
		</tbody>
	</table>
</div>
